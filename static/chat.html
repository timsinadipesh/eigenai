<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>frende - Chat</title>
    <script src="./js/markdown-it.min.js"></script> 
    <script src="./js/chat-template.js"></script>
</head>
<body>
    <script>
        // Simple Chat Implementation using ChatTemplate
        class SimpleChatApp extends ChatTemplate {
            constructor() {
                super({
                    modeText: 'CHAT',
                    backUrl: '/',
                    welcomeTitle: 'Chat with frende',
                    welcomeSubtitle: 'Your private on-device AI companion',
                    placeholder: 'Type your message...',
                    
                    // Enable all features for chat
                    enableTTS: true,
                    enableAttachments: true,
                    enableAudio: true,
                    enableSettings: true,
                    
                    // Settings callback
                    onSettingsClick: () => {
                        // Handle settings - could open a modal, navigate to settings page, etc.
                        console.log('Settings clicked for Chat mode');
                        // Example: window.location.href = '/settings?mode=chat';
                    }
                });
            }

            // Override message processing for general chat (no special processing needed)
            processMessage(message) {
                return message; // Return message as-is for general chat
            }
        }

        // Initialize the chat app when DOM is loaded
        document.addEventListener('DOMContentLoaded', async () => {
            const app = new SimpleChatApp();
            await app.initialize();
            
            // Handle transition data from landing page if present
            app.handleTransitionData();
        });
    </script>
</body>
</html>
