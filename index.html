<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>frende</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
* {
  box-sizing: border-box;
}

body, #root {
  height: 100vh;
  margin: 0;
  padding: 0;
  width: 100vw;
  background-color: #ffffff;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", Inter, system-ui, sans-serif;
  font-size: 16px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  height: 100vh;
  width: 100vw;
  padding: 20px 48px 48px;
}

.content-wrapper {
  width: 100%;
  max-width: 600px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.header {
  text-align: center;
  margin-top: 10px;
  margin-bottom: 50px;
}

.header h1 {
  font-size: clamp(48px, 8vw, 72px);
  font-weight: 250;
  margin: 0 0 0 0;
  color: #1a1a1a;
  letter-spacing: -0.02em;
}

.header p {
  font-size: 18px;
  margin: 0;
  color: #666666;
  font-weight: 400;
}

.input-section {
  width: 100%;
}

.attachments {
  display: none;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 16px;
}

.attachments.active {
  display: flex;
}

.attachment-pill {
  display: flex;
  align-items: center;
  background: #f5f5f5;
  padding: 8px 12px;
  border-radius: 16px;
  font-size: 14px;
  color: #666666;
}

.attachment-pill span {
  max-width: 150px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.remove-attachment {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0 0 0 8px;
  color: #999999;
  font-size: 16px;
  line-height: 1;
}

.remove-attachment:hover {
  color: #666666;
}

.input-container {
  position: relative;
  width: 100%;
  margin-bottom: 20px;
}

.input-field {
  width: 100%;
  min-height: 56px;
  max-height: 120px;
  padding: 16px 120px 16px 56px;
  font-size: 16px;
  font-family: inherit;
  border: 1px solid #e5e5e5;
  border-radius: 28px;
  resize: none;
  background: #ffffff;
  transition: all 200ms ease;
  line-height: 1.8;
}

.input-field:focus {
  outline: none;
  border-color: #0066cc;
  border-width: 2px;
}

.input-field::placeholder {
  color: #999999;
}

.input-controls {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  gap: 8px;
}

.control-button {
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 200ms ease;
}

.control-button:hover {
  background: #f5f5f5;
}

.control-button:disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

.control-button:disabled:hover {
  background: none;
}

.control-button svg {
  width: 20px;
  height: 20px;
  fill: #666666;
}

.send-button {
  background: #0066cc;
}

.send-button:hover:not(:disabled) {
  background: #0056b3;
}

.send-button svg {
  fill: #ffffff;
}

.send-button:disabled {
  background: #e5e5e5;
}

.send-button:disabled svg {
  fill: #999999;
}

.attachment-button {
  position: absolute;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 40px;
  height: 40px;
  background: none;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 200ms ease;
}

.attachment-button:hover {
  background: #f5f5f5;
}

.attachment-button svg {
  width: 20px;
  height: 20px;
  fill: #666666;
}

.recording {
  background: #ff4444 !important;
}

.recording svg {
  fill: #ffffff !important;
}

.action-buttons {
  display: flex;
  gap: 16px;
  width: 100%;
  margin-bottom: 16px;
}

.action-button {
  flex: 1;
  padding: 14px 24px;
  background: #ffffff;
  border: 1px solid #e5e5e5;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 500;
  color: #1a1a1a;
  cursor: pointer;
  transition: all 200ms ease;
  text-align: center;
}

.action-button:hover {
  background: #f8f9fa;
  border-color: #d1d5db;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.action-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.create-job-button {
  width: 100%;
  padding: 16px 24px;
  background: linear-gradient(135deg, #0066cc 0%, #004499 100%);
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  color: #ffffff;
  cursor: pointer;
  transition: all 200ms ease;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0, 102, 204, 0.2);
  margin-bottom: 16px;
}

.create-job-button:hover {
  background: linear-gradient(135deg, #0056b3 0%, #003d7a 100%);
  transform: translateY(-1px);
  box-shadow: 0 4px 16px rgba(0, 102, 204, 0.3);
}

.create-job-button:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(0, 102, 204, 0.2);
}

.secondary-buttons {
  display: flex;
  gap: 12px;
  width: 100%;
}

.secondary-button {
  flex: 1;
  padding: 12px 16px;
  background: #ffffff;
  border: 1px solid #e5e5e5;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  color: #666666;
  cursor: pointer;
  transition: all 200ms ease;
  text-align: center;
}

.secondary-button:hover {
  background: #f8f9fa;
  border-color: #d1d5db;
  color: #1a1a1a;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.secondary-button:active {
  transform: translateY(0);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

@media (max-width: 768px) {
  .container {
    padding: 30px 24px 24px;
  }
  
  .action-buttons {
    flex-direction: column;
    gap: 12px;
  }
  
  .secondary-buttons {
    flex-direction: column;
    gap: 10px;
  }
  
  .header h1 {
    font-size: clamp(36px, 10vw, 48px);
  }
  
  .header {
    margin-bottom: 24px;
  }
}

@media (max-width: 480px) {
  .container {
    padding: 20px 16px 16px;
  }
  
  .input-field {
    padding: 14px 100px 14px 48px;
    min-height: 48px;
  }
  
  .attachment-button,
  .control-button {
    width: 36px;
    height: 36px;
  }
  
  .control-button svg,
  .attachment-button svg {
    width: 18px;
    height: 18px;
  }
  
  .secondary-buttons {
    gap: 8px;
  }
  
  .secondary-button {
    padding: 10px 12px;
    font-size: 13px;
  }
}

#file-input {
  display: none;
}
  </style>
</head>
<body>
<div id="root">
  <div class="container">
    <div class="content-wrapper">
      <div class="header">
        <h1>frende</h1>
        <p>private on-device ai companion</p>
      </div>
      
      <div class="input-section">
        <div class="attachments" id="attachment-display"></div>
        
        <div class="input-container">
          <button class="attachment-button" id="attachment-btn">
            <svg viewBox="0 0 24 24">
              <path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v11.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"/>
            </svg>
          </button>
          
          <textarea
            id="chat-input"
            class="input-field"
            placeholder="hello frende..."
            rows="1"
          ></textarea>
          
          <div class="input-controls">
            <button class="control-button" id="mic-btn">
              <svg viewBox="0 0 24 24">
                <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.49 6-3.31 6-6.72h-1.7z"/>
              </svg>
            </button>
            
            <button class="control-button send-button" id="send-btn" disabled>
              <svg viewBox="0 0 24 24">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
              </svg>
            </button>
          </div>
          
          <input type="file" id="file-input" multiple hidden>
        </div>
        
        <div class="action-buttons">
          <button class="action-button" id="interpreter-btn">Interpreter</button>
          <button class="action-button" id="foldermode-btn">Folder Cruncher</button>
        </div>
        
        <button class="create-job-button" id="create-job-btn">Create AI Job</button>
        
        <div class="secondary-buttons">
          <button class="secondary-button" id="translator-btn">Translator</button>
          <button class="secondary-button" id="teacher-btn">Lang. Teacher</button>
          <button class="secondary-button" id="quickie-btn">Quickie</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  let attachedFiles = new Map();
  let isRecording = false;
  let mediaRecorder = null;
  let audioChunks = [];

  // Auto-focus on input field when page loads
  window.addEventListener('load', () => {
    document.getElementById('chat-input').focus();
  });

  // Navigation buttons
  document.getElementById('interpreter-btn').addEventListener('click', () => {
    console.log('Interpreter clicked');
  });
  
  document.getElementById('foldermode-btn').addEventListener('click', () => {
    console.log('Folder Cruncher clicked');
  });
  
  document.getElementById('create-job-btn').addEventListener('click', () => {
    console.log('Create AI Job clicked');
  });
  
  document.getElementById('translator-btn').addEventListener('click', () => {
    console.log('Translator clicked');
  });
  
  document.getElementById('teacher-btn').addEventListener('click', () => {
    console.log('Lang. Teacher clicked');
  });
  
  document.getElementById('quickie-btn').addEventListener('click', () => {
    console.log('Quickie clicked');
  });

  // File attachments
  function renderAttachments() {
    const display = document.getElementById('attachment-display');
    display.innerHTML = '';
    
    if (attachedFiles.size === 0) {
      display.classList.remove('active');
      return;
    }
    
    display.classList.add('active');
    
    attachedFiles.forEach((file, name) => {
      const pill = document.createElement('div');
      pill.className = 'attachment-pill';
      
      const span = document.createElement('span');
      span.textContent = name;
      
      const btn = document.createElement('button');
      btn.className = 'remove-attachment';
      btn.textContent = '×';
      btn.onclick = function() {
        attachedFiles.delete(name);
        renderAttachments();
        updateSendButton();
      };
      
      pill.appendChild(span);
      pill.appendChild(btn);
      display.appendChild(pill);
    });
  }

  // File input handler
  document.getElementById('attachment-btn').addEventListener('click', () => {
    document.getElementById('file-input').click();
  });

  document.getElementById('file-input').addEventListener('change', (e) => {
    const files = e.target.files;
    for (let file of files) {
      if (!attachedFiles.has(file.name)) {
        attachedFiles.set(file.name, file);
      }
    }
    renderAttachments();
    updateSendButton();
    e.target.value = '';
  });

  // Audio recording
  document.getElementById('mic-btn').addEventListener('click', async () => {
    const micBtn = document.getElementById('mic-btn');
    
    if (!isRecording) {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        mediaRecorder = new MediaRecorder(stream);
        audioChunks = [];
        
        mediaRecorder.ondataavailable = (event) => {
          audioChunks.push(event.data);
        };
        
        mediaRecorder.onstop = () => {
          const audioBlob = new Blob(audioChunks, { type: "audio/webm" });
          const audioName = `recording-${Date.now()}.webm`;
          attachedFiles.set(audioName, audioBlob);
          renderAttachments();
          updateSendButton();
          stream.getTracks().forEach(track => track.stop());
        };
        
        mediaRecorder.start();
        isRecording = true;
        micBtn.classList.add('recording');
      } catch (err) {
        alert("Could not access microphone. Please check permissions.");
      }
    } else {
      if (mediaRecorder) mediaRecorder.stop();
      isRecording = false;
      micBtn.classList.remove('recording');
    }
  });

  // Input handling
  function updateSendButton() {
    const chatInput = document.getElementById('chat-input');
    const sendBtn = document.getElementById('send-btn');
    const hasText = chatInput.value.trim().length > 0;
    const hasFiles = attachedFiles.size > 0;
    
    sendBtn.disabled = !hasText && !hasFiles;
  }

  function autoResizeTextarea() {
    const textarea = document.getElementById('chat-input');
    textarea.style.height = 'auto';
    
    const maxHeight = 120; // 3 lines approximately
    if (textarea.scrollHeight > maxHeight) {
      textarea.style.height = maxHeight + 'px';
      textarea.style.overflowY = 'auto';
    } else {
      textarea.style.height = textarea.scrollHeight + 'px';
      textarea.style.overflowY = 'hidden';
    }
  }

  // Input event listeners
  const chatInput = document.getElementById('chat-input');
  
  chatInput.addEventListener('input', () => {
    autoResizeTextarea();
    updateSendButton();
  });

  chatInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      const sendBtn = document.getElementById('send-btn');
      if (!sendBtn.disabled) {
        e.preventDefault();
        sendMessage();
      }
    }
  });

  // Send message
  function sendMessage() {
    const chatInput = document.getElementById('chat-input');
    const text = chatInput.value.trim();
    
    if (!text && attachedFiles.size === 0) return;
    
    // Replace with your send logic
    console.log("Sending:", { text, files: attachedFiles });
    
    // Clear input
    chatInput.value = '';
    attachedFiles = new Map();
    renderAttachments();
    updateSendButton();
    autoResizeTextarea();
  }

  document.getElementById('send-btn').addEventListener('click', sendMessage);

  // Initialize
  autoResizeTextarea();
  updateSendButton();
})();
</script>
</body>
</html>